<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <title>order list</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!--    <link rel="stylesheet" type="text/css" th:href="@{/fonts/font-awesome-4.7.0/css/font-awesome.min.css}">-->
    <!--    <link rel="stylesheet" type="text/css" th:href="@{/css/login_util.css}">-->
    <!--    <link rel="stylesheet" type="text/css" th:href="@{/css/login_main.css}">-->
    <!-- Bootstrap core CSS -->
    <link th:href="@{/css/bootstrap.min.css}" rel="stylesheet">
    <link th:href="@{/css/common.css}" rel="stylesheet">
</head>

<body>
<!--nav-->
<div th:insert="~{common :: nav}"></div>
<!--carousel photos-->

<!--order model-->
<div class="container-fluid main">
    <div class="row center-block">
        <!--order list-->
        <div class="col-lg-9 col-md-9 col-sm-12">
            <!--title-->
            <h2> <span class="glyphicon glyphicon-th-list" aria-hidden="true"></span> Own shared orders </h2>
            <!--order show list-->
            <hr>
            <div class="media" th:each="order : ${pageInfo.getList()}">
                <div class="media-left">
                    <a th:href="@{/order}">
                        <img class="media-object thumbnail" th:src="@{/images/login_cart.jpg}" alt="screenshot">
                    </a>
                </div>
                <div class="media-body">
                    <h2 class="media-heading"><a th:href="@{/order}">[[${order.getTitle()}]]</a></h2>
                    <Strong>Description</Strong>
                    <p th:text="${order.description}" ></p>
                    <Strong>Create Time</Strong>
                    <p th:text="${#dates.format(order.createTime,'dd MMMM yyyy hh:mm:ss')}"></p>
                    <Strong>Deadline</Strong>
                    <p th:text="${order.deadline}"></p>
                </div>
            </div>
            <div class="row pageInfo" text="${pageInfo.getTotal()}">
                <div class="col text-center">
                    <h5 class="totalCount"><strong>Total</strong> [[${pageInfo.getPages()}]] <strong>Pages, </strong> [[${pageInfo.getTotal()}]] <strong>Records</strong></h5>
                    <nav aria-label="Page navigation">
                        <ul class="pagination">
                            <li>
                                <a th:if="${pageInfo.pageNum} != 1" th:href="@{/user/orders}" aria-label="Firstpage">
                                    <span aria-hidden="true">First</span>
                                </a>
                            </li>
                            <li>
                                <a th:if="${pageInfo.pageNum} != 1" th:href="@{/user/orders(pageNum=${pageInfo.hasPreviousPage}?${pageInfo.prePage}:1)}" aria-label="Previous">
                                    <span aria-hidden="true">&laquo;</span>
                                </a>
                            </li>
                            <!--first page case -->
                            <li><a th:if="${pageInfo.pageNum}>2" th:href="@{/user/orders(pageNum=${pageInfo.pageNum-2})}">[[${pageInfo.pageNum-2}]]</a></li>
                            <li><a th:if="${pageInfo.pageNum}>1" th:href="@{/user/orders(pageNum=${pageInfo.pageNum-1})}">[[${pageInfo.pageNum-1}]]</a></li>
                            <li class="active"><a>[[${pageInfo.pageNum}]]</a></li>
                            <li><a th:if="${pageInfo.pageNum} < ${pageInfo.getPages()}" th:href="@{/user/orders(pageNum=${pageInfo.pageNum+1})}">[[${pageInfo.pageNum+1}]]</a></li>
                            <li><a th:if="${pageInfo.pageNum} < ${pageInfo.getPages()-1}" th:href="@{/user/orders(pageNum=${pageInfo.pageNum+2})}">[[${pageInfo.pageNum+2}]]</a></li>
                            <!--last page case -->

                            <li>
                                <a th:if="${pageInfo.pageNum} != ${pageInfo.getPages()}" th:href="@{/user/orders(pageNum=${pageInfo.hasNextPage}?${pageInfo.nextPage}:${pageInfo.pages})}" aria-label="Next">
                                    <span aria-hidden="true">&raquo;</span>
                                </a>
                            </li>
                            <li>
                                <a th:if="${pageInfo.pageNum} != ${pageInfo.getPages()}" th:href="@{/user/orders(pageNum=${pageInfo.pages})}" aria-label="Lastpage">
                                    <span aria-hidden="true">Last</span>
                                </a>
                            </li>
                        </ul>
                    </nav>
                </div>
            </div>
        </div>

        <!--instructions-->
        <div class="col-lg-3 col-md-3 col-sm-12">
            <h2><span class="glyphicon glyphicon-user" aria-hidden="true"></span> [[${session.user.getUsername()}]] </h2>
            <hr>
            <ul class="list-group">
                <li class="list-group-item">
                    <span class="badge">14</span>
                    Total response
                </li>
            </ul>
        </div>
    </div>
</div>

<script th:src="@{/js/jquery-3.2.1.min.js}"></script>
<script th:src="@{/js/bootstrap.min.js}"></script>
<script th:src="@{/js/login_main.js}"></script>


</body>

</html>